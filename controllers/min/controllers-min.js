reader.controller("SidebarCtrl",["$scope","$log","tarotDeck",function(e,t,o){e.deck=o.deck,e.deck.activeCard=o.deck.activeCard,this.focusOn=function(t){e.deck.activeCard=t},this.filtercard=""}]),reader.controller("CardSingleCtrl",["$scope","$log","$sanitize","$sce","tarotDeck",function(e,t,o,i,n){e.deck=n.deck}]),reader.controller("CardIndexCtrl",["$scope","$log","tarotDeck",function(e,t,o){e.deck=o.deck,e.deck.activeCard=o.deck.activeCard,this.focusOn=function(t){e.deck.activeCard=t}}]),reader.controller("menu",["$scope","$state",function(e,t){}]),reader.controller("HomeCtrl",["$scope","tarotDeck",function(e,t){e.deck=t.deck}]),reader.controller("SpreadsCtrl",["$scope","$log","$sanitize","$sce","tarotDeck",function(e,t,o,i,n){e.deck=n.deck}]),reader.controller("ThreeCardTimelineCtrl",["$scope","$window","tarotDeck",function(e,t,o){e.deck=o.deck;var i,n,a,r,s,c=[],p=t.innerWidth/2,l=t.innerHeight/2,d=new THREE.Raycaster,h,u=new THREE.Vector2,f=[-30,0,30],y=null,m=new TimelineLite,E=!1;e.init=function(){i=o.shuffledDeck(),i[0].position={x:-30,y:0,z:0},i[1].position={x:0,y:0,z:0},i[2].position={x:30,y:0,z:0},i[0].posInfo="the Past",i[1].posInfo="the Present",i[2].posInfo="the Future",a=new THREE.WebGLRenderer({antialias:!0,autoClear:!0}),a.setClearColor(16777215),a.setSize(t.innerWidth/12*10,t.innerHeight/12*10),$("#container-three-card").append(a.domElement),r=new THREE.Scene,n=new THREE.PerspectiveCamera(35,t.innerWidth/t.innerHeight,1,1e4),n.position.set(0,0,75),r.add(n);var e=new THREE.AmbientLight(16777215);e.position.set(0,0,20),r.add(e);for(var c=new THREE.BoxGeometry(14,24,.2),p=[],l=(new THREE.TextureLoader).load(i[0].image),d=new THREE.MeshBasicMaterial({map:l}),h=0;3>h;h++){var u=(new THREE.TextureLoader).load(i[h].image),f=new THREE.MeshBasicMaterial({map:u}),y=new THREE.Mesh(c,f);y.position.set(-30,10,50),y.rotation.y=Math.PI/2,y.name=i[h].name,y.PKT=i[h].PKT,y.posInfo=i[h].posInfo,y.selected=!1,p.push(y),r.add(y)}m.to(p[0].position,1,i[0].position).to(p[0].rotation,1,{y:Math.PI},"-=1").to(p[1].position,1,i[1].position).to(p[1].rotation,1,{y:Math.PI},"-=1").to(p[2].position,1,i[2].position).to(p[2].rotation,1,{y:Math.PI},"-=1");var E=new THREE.PlaneGeometry(t.innerWidth/12*10,t.innerHeight/12*10),w=new THREE.MeshLambertMaterial({color:16777215,transparent:!0,opacity:0});s=new THREE.Mesh(E,w),s.name="overlay",s.position.set(0,0,-1),r.add(s)},$(t).resize(function(){n.aspect=t.innerWidth/t.innerHeight,n.updateProjectionMatrix(),a.setSize(t.innerWidth/12*10,t.innerHeight/12*10)}),e.setFromCamera=function(e,t,o){e.ray.origin.copy(n.position),e.ray.direction.set(t.x,t.y,.5).unproject(n).sub(n.position).normalize()},e.cardPick=function(t){if(e.deck.activeCard=t.object,y){for(refCard in i)y.object.name==i[refCard].name&&m.to(y.object.position,1,i[refCard].position).to(".overlay",1,{opacity:"0"},"-=1").to(s.material,.7,{opacity:0},"-=1").to(s.position,.1,{z:-1}).to(".overlay",1,{visibility:"hidden"});y=null}else y=t,m.to(t.object.position,1,{x:-20,z:t.object.position.z+30}).to(".overlay",1,{visibility:"visible",opacity:"1"},"-=1").to(s.position,.2,{z:1},"-=1").to(s.material,1,{opacity:.7},"-=1")},e.mouseMove=function(e){u.x=e.offsetX/a.domElement.width*2-1,u.y=2*-(e.offsetY/a.domElement.height)+1},e.mouseClick=function(){e.setFromCamera(d,u,n);var t=d.intersectObjects(r.children);t.length>0&&e.cardPick(t[0])},e.render=function(){n.position.x=20*u.x,n.position.y=20*u.y,n.lookAt(r.position),requestAnimationFrame(e.render),a.render(r,n)},e.init(),e.render(),e.$on("$destroy",function(){cancelAnimationFrame(this),r=null,n=null,a=null})}]),reader.controller("ThreeCardSituationCtrl",["$scope","$window","tarotDeck",function(e,t,o){e.deck=o.deck;var i,n,a,r,s,c=[],p=t.innerWidth/2,l=t.innerHeight/2,d=new THREE.Raycaster,h,u=new THREE.Vector2,f=[-30,0,30],y=null,m=new TimelineLite,E=!1;e.init=function(){i=o.shuffledDeck(),i[0].position={x:-30,y:0,z:0},i[1].position={x:0,y:0,z:0},i[2].position={x:30,y:0,z:0},i[0].posInfo="what you aspire to",i[1].posInfo="what is standing in your way",i[2].posInfo="how you can overcome this",a=new THREE.WebGLRenderer({antialias:!0,autoClear:!0}),a.setClearColor(16777215),a.setSize(t.innerWidth/12*10,t.innerHeight/12*10),$("#container-three-card").append(a.domElement),r=new THREE.Scene,n=new THREE.PerspectiveCamera(35,t.innerWidth/t.innerHeight,1,1e4),n.position.set(0,0,75),r.add(n);var e=new THREE.AmbientLight(16777215);e.position.set(0,0,20),r.add(e);for(var c=new THREE.BoxGeometry(14,24,.2),p=[],l=(new THREE.TextureLoader).load(i[0].image),d=new THREE.MeshBasicMaterial({map:l}),h=0;3>h;h++){var u=(new THREE.TextureLoader).load(i[h].image),f=new THREE.MeshBasicMaterial({map:u}),y=new THREE.Mesh(c,f);y.position.set(-30,10,50),y.rotation.y=Math.PI/2,y.name=i[h].name,y.PKT=i[h].PKT,y.posInfo=i[h].posInfo,y.selected=!1,p.push(y),r.add(y)}m.to(p[0].position,1,i[0].position).to(p[0].rotation,1,{y:Math.PI},"-=1").to(p[1].position,1,i[1].position).to(p[1].rotation,1,{y:Math.PI},"-=1").to(p[2].position,1,i[2].position).to(p[2].rotation,1,{y:Math.PI},"-=1");var E=new THREE.PlaneGeometry(t.innerWidth/12*10,t.innerHeight/12*10),w=new THREE.MeshLambertMaterial({color:16777215,transparent:!0,opacity:0});s=new THREE.Mesh(E,w),s.name="overlay",s.position.set(0,0,-1),r.add(s)},$(t).resize(function(){n.aspect=t.innerWidth/t.innerHeight,n.updateProjectionMatrix(),a.setSize(t.innerWidth/12*10,t.innerHeight/12*10)}),e.setFromCamera=function(e,t,o){e.ray.origin.copy(n.position),e.ray.direction.set(t.x,t.y,.5).unproject(n).sub(n.position).normalize()},e.cardPick=function(t){if(e.deck.activeCard=t.object,y){for(refCard in i)y.object.name==i[refCard].name&&m.to(y.object.position,1,i[refCard].position).to(".overlay",1,{opacity:"0"},"-=1").to(s.material,.7,{opacity:0},"-=1").to(s.position,.1,{z:-1}).to(".overlay",1,{visibility:"hidden"});y=null}else y=t,m.to(t.object.position,1,{x:-20,z:t.object.position.z+30}).to(".overlay",1,{visibility:"visible",opacity:"1"},"-=1").to(s.position,.2,{z:1},"-=1").to(s.material,1,{opacity:.7},"-=1")},e.mouseMove=function(e){u.x=e.offsetX/a.domElement.width*2-1,u.y=2*-(e.offsetY/a.domElement.height)+1},e.mouseClick=function(){e.setFromCamera(d,u,n);var t=d.intersectObjects(r.children);t.length>0&&e.cardPick(t[0])},e.render=function(){n.position.x=20*u.x,n.position.y=20*u.y,n.lookAt(r.position),requestAnimationFrame(e.render),a.render(r,n)},e.init(),e.render(),e.$on("$destroy",function(){cancelAnimationFrame(this),r=null,n=null,a=null})}]),reader.controller("CelticCrossCtrl",["$scope","$log","$window","tarotDeck",function(e,t,o,i){e.deck=i.deck;var n,a,r,s,c=[],p=o.innerWidth/2,l=o.innerHeight/2,d=new THREE.Raycaster,h,u,f=new THREE.Vector2,y=[-30,0,30],m=new TimelineLite,E=null;e.init=function(){s=i.shuffledDeck(),s[0].position={x:-20,y:0,z:0},s[1].position={x:-20,y:0,z:.5},s[2].position={x:-20,y:-30,z:0},s[3].position={x:-50,y:0,z:0},s[4].position={x:-20,y:30,z:0},s[5].position={x:10,y:0,z:0},s[6].position={x:50,y:-40,z:0},s[7].position={x:50,y:-15,z:0},s[8].position={x:50,y:10,z:0},s[9].position={x:50,y:35,z:0},s[0].posInfo="the general atmosphere thta surrounds the question asked; the influences at work around it",s[1].posInfo="what the opposing forces may be, for good or evil",s[2].posInfo="the foundation or basis of the matter; something that has already become part of the subject's experience",s[3].posInfo="the influence that has just passed or is now passing away",s[4].posInfo="an influence that <i>may</i> come into being",s[5].posInfo="the influence that will operate in the near future",s[6].posInfo="the negative feelings, the fears the subject has on the matter",s[7].posInfo="the subject's environment, the opinions and influence of family and friends",s[8].posInfo="the subject's own hopes and ideals in the matter",s[9].posInfo="the outcome of the matter - the cumulative result of the influences exerted by the other cards. It includes all that has been divined from the other cards on the table.",a=new THREE.WebGLRenderer({antialias:!0,autoClear:!0}),a.setClearColor(16777215),a.setSize(o.innerWidth/12*10,o.innerHeight/12*10),$("#container-celtic-cross").append(a.domElement),r=new THREE.Scene,n=new THREE.PerspectiveCamera(35,o.innerWidth/o.innerHeight,1,1e4),n.position.set(0,0,175),r.add(n);var e=new THREE.AmbientLight(16777215);e.position.set(0,0,20),r.add(e);for(var t=new THREE.BoxGeometry(14,24,.2),c=[],p=(new THREE.TextureLoader).load(s[0].image),l=new THREE.MeshBasicMaterial({map:p}),d=0;10>d;d++){var h=(new THREE.TextureLoader).load(s[d].image),f=new THREE.MeshBasicMaterial({map:h}),y=new THREE.Mesh(t,f);y.position.set(-100,50,50),y.rotation.y=Math.PI/2,y.name=s[d].name,y.selected=!1,y.PKT=s[d].PKT,y.posInfo=s[d].posInfo,c.push(y),r.add(y)}m.to(c[0].position,1,s[0].position).to(c[0].rotation,1,{y:Math.PI},"-=1").to(c[1].position,1,s[1].position).to(c[1].rotation,1,{x:Math.PI,y:Math.PI,z:Math.PI/2},"-=1").to(c[2].position,1,s[2].position).to(c[2].rotation,1,{y:Math.PI},"-=1").to(c[3].position,1,s[3].position).to(c[3].rotation,1,{y:Math.PI},"-=1").to(c[4].position,1,s[4].position).to(c[4].rotation,1,{y:Math.PI},"-=1").to(c[5].position,1,s[5].position).to(c[5].rotation,1,{y:Math.PI},"-=1").to(c[6].position,1,s[6].position).to(c[6].rotation,1,{y:Math.PI},"-=1").to(c[7].position,1,s[7].position).to(c[7].rotation,1,{y:Math.PI},"-=1").to(c[8].position,1,s[8].position).to(c[8].rotation,1,{y:Math.PI},"-=1").to(c[9].position,1,s[9].position).to(c[9].rotation,1,{y:Math.PI},"-=1");var E=new THREE.PlaneGeometry(o.innerWidth/12*10,o.innerHeight/12*10),w=new THREE.MeshLambertMaterial({color:16777215,transparent:!0,opacity:0});u=new THREE.Mesh(E,w),u.name="overlay",u.position.set(0,0,-1),r.add(u)},$(o).resize(function(){n.aspect=o.innerWidth/o.innerHeight,n.updateProjectionMatrix(),a.setSize(o.innerWidth/12*10,o.innerHeight/12*10)}),e.setFromCamera=function(e,t,o){e.ray.origin.copy(n.position),e.ray.direction.set(t.x,t.y,.5).unproject(n).sub(n.position).normalize()},e.cardPick=function(t){if(e.deck.activeCard=t.object,E){for(refCard in s)E.object.name==s[refCard].name&&(t.object.name==s[1].name?m.to(E.object.position,1,s[refCard].position).to(".overlay",1,{opacity:"0"},"-=1").to(t.object.rotation,1,{x:Math.PI,y:Math.PI,z:Math.PI/2},"-=1").to(u.material,.7,{opacity:0},"-=1").to(u.position,.1,{z:-1}).to(".overlay",1,{visibility:"hidden"}):m.to(E.object.position,1,s[refCard].position).to(".overlay",1,{opacity:"0"},"-=1").to(u.material,.7,{opacity:0},"-=1").to(u.position,.1,{z:-1}).to(".overlay",1,{visibility:"hidden"}));E=null}else t.object.name==s[1].name?m.to(t.object.position,1,{x:-25,y:0,z:t.object.position.z+120}).to(".overlay",1,{visibility:"visible",opacity:"1"},"-=1").to(t.object.rotation,1,{x:0,y:0,z:0},"-=1").to(u.position,.2,{z:1},"-=1").to(u.material,1,{opacity:.7},"-=1"):m.to(t.object.position,1,{x:-25,y:0,z:t.object.position.z+120}).to(".overlay",1,{visibility:"visible",opacity:"1"},"-=1").to(u.position,.2,{z:1},"-=1").to(u.material,1,{opacity:.7},"-=1"),E=t},e.mouseMove=function(e){f.x=e.offsetX/a.domElement.width*2-1,f.y=2*-(e.offsetY/a.domElement.height)+1},e.mouseClick=function(){e.setFromCamera(d,f,n);var t=d.intersectObjects(r.children);t.length>0&&e.cardPick(t[0])},e.render=function(){n.position.x=20*f.x,n.position.y=20*f.y,n.lookAt(r.position),requestAnimationFrame(e.render),a.render(r,n)},e.init(),e.render(),e.$on("$destroy",function(){cancelAnimationFrame(this),r=null,n=null,a=null})}]),reader.controller("TreeOfLifeCtrl",["$scope","$log","$window","tarotDeck",function(e,t,o,i){e.deck=i.deck;var n,a,r,s,c=[],p,l=o.innerWidth/2,d=o.innerHeight/2,h=new THREE.Raycaster,u,f=new THREE.Vector2,y=[-30,0,30],m=new TimelineLite,E=null;e.init=function(){s=i.shuffledDeck(),s[0].position={x:0,y:55,z:0},s[1].position={x:25,y:40,z:0},s[2].position={x:-25,y:40,z:0},s[3].position={x:25,y:15,z:0},s[4].position={x:-25,y:15,z:0},s[5].position={x:0,y:5,z:0},s[6].position={x:25,y:-20,z:0},s[7].position={x:-25,y:-20,z:0},s[8].position={x:0,y:-30,z:0},s[9].position={x:0,y:-55,z:0},s[0].posInfo="the subject's highest intelligence. It is part of Triangle 1, pointing upward, which represents spirituality, the highest ideal of the subject",s[1].posInfo="creative force, the 'father' card. It is part of Triangle 1, pointing upward, which represents spirituality, the highest ideal of the subject",s[2].posInfo="life, wisdom, the 'mother' card. It is part of Triangle 1, pointing upward, which represents spirituality, the highest ideal of the subject",s[3].posInfo="virtues, good qualities. It is part of Triangle 2, pointing downward, which represents the intellectual and moral nature of the subject",s[4].posInfo="conquest, intellectual or physical force. It is part of Triangle 2, pointing downward, which represents the intellectual and moral nature of the subject",s[5].posInfo="spirit of sacrifice, health. It is part of Triangle 2, pointing downward, which represents the intellectual and moral nature of the subject",s[6].posInfo="Venus, love, lust. It is part of Triangle 3, pointing downward, which represents the subject's subconsciousness - their intuition, desires and impulses",s[7].posInfo="procreation, arts, crafts. It is part of Triangle 3, pointing downward, which represents the subject's subconsciousness - their intuition, desires and impulses",s[8].posInfo="imagination, creative mental and physical forces. It is part of Triangle 3, pointing downward, which represents the subject's subconsciousness - their intuition, desires and impulses",s[9].posInfo="the physical body or the earthly home",a=new THREE.WebGLRenderer({antialias:!0,autoClear:!0}),a.setClearColor(16777215),a.setSize(o.innerWidth/12*10,o.innerHeight/12*10),$("#container-tree-of-life").append(a.domElement),r=new THREE.Scene,n=new THREE.PerspectiveCamera(35,o.innerWidth/o.innerHeight,1,1e4),n.position.set(0,0,230),r.add(n);var e=new THREE.AmbientLight(16777215);e.position.set(0,0,20),r.add(e);for(var t=new THREE.BoxGeometry(14,24,.2),c=[],l=(new THREE.TextureLoader).load(s[0].image),d=new THREE.MeshBasicMaterial({map:l}),h=0;10>h;h++){var u=(new THREE.TextureLoader).load(s[h].image),f=new THREE.MeshBasicMaterial({map:u}),y=new THREE.Mesh(t,f);y.position.set(-150,50,50),y.rotation.y=Math.PI/2,y.name=s[h].name,y.selected=!1,y.PKT=s[h].PKT,y.posInfo=s[h].posInfo,c.push(y),r.add(y)}m.to(c[0].position,1,s[0].position).to(c[0].rotation,1,{y:Math.PI},"-=1").to(c[1].position,1,s[1].position).to(c[1].rotation,1,{y:Math.PI},"-=1").to(c[2].position,1,s[2].position).to(c[2].rotation,1,{y:Math.PI},"-=1").to(c[3].position,1,s[3].position).to(c[3].rotation,1,{y:Math.PI},"-=1").to(c[4].position,1,s[4].position).to(c[4].rotation,1,{y:Math.PI},"-=1").to(c[5].position,1,s[5].position).to(c[5].rotation,1,{y:Math.PI},"-=1").to(c[6].position,1,s[6].position).to(c[6].rotation,1,{y:Math.PI},"-=1").to(c[7].position,1,s[7].position).to(c[7].rotation,1,{y:Math.PI},"-=1").to(c[8].position,1,s[8].position).to(c[8].rotation,1,{y:Math.PI},"-=1").to(c[9].position,1,s[9].position).to(c[9].rotation,1,{y:Math.PI},"-=1");var E=new THREE.PlaneGeometry(o.innerWidth/12*10,o.innerHeight/12*10),w=new THREE.MeshLambertMaterial({color:16777215,transparent:!0,opacity:0});p=new THREE.Mesh(E,w),p.name="overlay",p.position.set(0,0,-1),r.add(p)},$(o).resize(function(){n.aspect=o.innerWidth/o.innerHeight,n.updateProjectionMatrix(),a.setSize(o.innerWidth/12*10,o.innerHeight/12*10)}),e.setFromCamera=function(e,t,o){e.ray.origin.copy(n.position),e.ray.direction.set(t.x,t.y,.5).unproject(n).sub(n.position).normalize()},e.cardPick=function(t){if(e.deck.activeCard=t.object,E){for(refCard in s)E.object.name==s[refCard].name&&m.to(E.object.position,1,s[refCard].position).to(".overlay",1,{opacity:"0"},"-=1").to(p.material,.7,{opacity:0},"-=1").to(p.position,.1,{z:-1}).to(".overlay",1,{visibility:"hidden"});E=null}else E=t,m.to(t.object.position,1,{x:-25,y:0,z:t.object.position.z+170}).to(".overlay",1,{visibility:"visible",opacity:"1"},"-=1").to(p.position,.2,{z:1},"-=1").to(p.material,1,{opacity:.7},"-=1")},e.mouseMove=function(e){f.x=e.offsetX/a.domElement.width*2-1,f.y=2*-(e.offsetY/a.domElement.height)+1},e.mouseClick=function(){e.setFromCamera(h,f,n);var t=h.intersectObjects(r.children);t.length>0&&e.cardPick(t[0])},e.render=function(){n.position.x=20*f.x,n.position.y=20*f.y,n.lookAt(r.position),requestAnimationFrame(e.render),a.render(r,n)},e.init(),e.render(),e.$on("$destroy",function(){cancelAnimationFrame(this),r=null,n=null,a=null})}]);